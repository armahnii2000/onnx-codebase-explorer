<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONNX Codebase Explorer</title>
    
    <!-- Cache Control Meta Tags -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- Stylesheets with cache busting -->
    <link rel="stylesheet" href="styles.css?v=20250825-006">
    
    <!-- External Libraries -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">
                    <img src="https://github.com/onnx/onnx/raw/main/docs/onnx-horizontal-color.png" alt="ONNX" class="logo-img">
                    Codebase Explorer
                </h1>
                <nav class="nav">
                    <button class="nav-btn active" data-level="overview">Overview</button>
                    <button class="nav-btn" data-level="system">System</button>
                    <button class="nav-btn" data-level="architecture">Architecture</button>
                    <button class="nav-btn" data-level="modules">Modules</button>
                    <button class="nav-btn" data-level="apis">APIs</button>
                    <button class="nav-btn" data-level="implementation">Implementation</button>
                </nav>
                <div class="search-container">
                    <input type="text" id="search" placeholder="Search codebase..." class="search-input">
                    <button class="search-btn">üîç</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-content">
                    <div class="breadcrumb">
                        <span id="current-path">ONNX Root</span>
                    </div>
                    <div class="level-selector">
                        <h3>Zoom Level</h3>
                        <div class="zoom-controls">
                            <button class="zoom-btn" data-zoom="1">üåç High Level</button>
                            <button class="zoom-btn active" data-zoom="2">üèóÔ∏è Architecture</button>
                            <button class="zoom-btn" data-zoom="3">üîß Modules</button>
                            <button class="zoom-btn" data-zoom="4">üìù Code</button>
                        </div>
                    </div>
                    <div class="toc">
                        <h3>Navigation</h3>
                        <ul id="toc-list">
                            <!-- Dynamically populated -->
                        </ul>
                    </div>
                </div>
            </aside>

            <!-- Content Area -->
            <div class="content">
                <!-- Overview Section -->
                <section id="overview" class="content-section active">
                    <h2>ONNX: Open Neural Network Exchange</h2>
                    
                    <div class="overview-grid">
                        <div class="overview-card">
                            <h3>üéØ What is ONNX?</h3>
                            <p>A universal format for AI models that works with any framework or runtime. Think of it as a common language for machine learning models.</p>
                            <div class="stats">
                                <span class="stat"><strong>3,198</strong> backend tests</span>
                                <span class="stat"><strong>12</strong> core modules</span>
                                <span class="stat"><strong>194k+</strong> lines of code</span>
                            </div>
                        </div>

                        <div class="overview-card">
                            <h3>üèóÔ∏è Core Architecture</h3>
                            <p>Built with a modular design focusing on:</p>
                            <ul>
                                <li><strong>Protocol Buffers</strong> - Core data format</li>
                                <li><strong>Graph IR</strong> - Intermediate representation</li>
                                <li><strong>Operators</strong> - Standardized operations</li>
                                <li><strong>Type System</strong> - Rich data type support</li>
                            </ul>
                        </div>

                        <div class="overview-card">
                            <h3>üîß Key Components</h3>
                            <div class="component-list">
                                <div class="component-item">
                                    <span class="component-name">Core Library</span>
                                    <span class="component-path">onnx/</span>
                                </div>
                                <div class="component-item">
                                    <span class="component-name">Backend Tests</span>
                                    <span class="component-path">onnx/backend/</span>
                                </div>
                                <div class="component-item">
                                    <span class="component-name">Reference Implementation</span>
                                    <span class="component-path">onnx/reference/</span>
                                </div>
                                <div class="component-item">
                                    <span class="component-name">Shape Inference</span>
                                    <span class="component-path">onnx/shape_inference/</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="high-level-diagram">
                        <h3>High-Level System Overview</h3>
                        <div class="mermaid">
                            graph TB
                                A[AI Framework] --> B[ONNX Model]
                                B --> C[ONNX Runtime]
                                B --> D[Hardware Accelerator]
                                
                                subgraph "ONNX Core"
                                    E[Protocol Buffers]
                                    F[Graph IR]
                                    G[Operators]
                                    H[Type System]
                                end
                                
                                B --> E
                                E --> F
                                F --> G
                                G --> H
                                
                                style B fill:#ff9900
                                style E fill:#66cc99
                                style F fill:#66cc99
                                style G fill:#66cc99
                                style H fill:#66cc99
                        </div>
                    </div>
                </section>

                <!-- System Section -->
                <section id="system" class="content-section">
                    <h2>ONNX System Overview</h2>
                    
                    <div class="system-content">
                        <div class="system-hero">
                            <h3>üîÑ How ONNX Works</h3>
                            <p class="large-text">ONNX acts as a universal translator between AI frameworks, allowing models trained in one framework to run in another seamlessly.</p>
                        </div>

                        <div class="system-flow">
                            <h3>üåê ONNX Ecosystem Flow</h3>
                            <div class="flow-diagram">
                                <div class="mermaid">
                                    graph LR
                                        A[PyTorch] --> B[ONNX Model]
                                        C[TensorFlow] --> B
                                        D[Scikit-learn] --> B
                                        
                                        B --> E[ONNX Runtime]
                                        B --> F[TensorRT]
                                        B --> G[OpenVINO]
                                        B --> H[CoreML]
                                        
                                        E --> I[CPU]
                                        F --> J[GPU/NVIDIA]
                                        G --> K[Intel Hardware]
                                        H --> L[Apple Devices]
                                        
                                        style B fill:#ff9900,color:#fff
                                        style E fill:#4CAF50,color:#fff
                                        style F fill:#76B900,color:#fff
                                        style G fill:#0071C5,color:#fff
                                        style H fill:#555,color:#fff
                                </div>
                            </div>
                        </div>

                        <div class="system-benefits">
                            <h3>‚ú® Key Benefits</h3>
                            <div class="benefits-grid">
                                <div class="benefit-card">
                                    <div class="benefit-icon">üîÑ</div>
                                    <h4>Interoperability</h4>
                                    <p>Train in PyTorch, deploy with TensorRT. No framework lock-in.</p>
                                </div>
                                <div class="benefit-card">
                                    <div class="benefit-icon">‚ö°</div>
                                    <h4>Performance</h4>
                                    <p>Optimized for inference across CPUs, GPUs, and specialized hardware.</p>
                                </div>
                                <div class="benefit-card">
                                    <div class="benefit-icon">üèóÔ∏è</div>
                                    <h4>Standardization</h4>
                                    <p>Common format ensures consistent model representation and behavior.</p>
                                </div>
                                <div class="benefit-card">
                                    <div class="benefit-icon">üåç</div>
                                    <h4>Ecosystem</h4>
                                    <p>Supported by major tech companies and AI frameworks worldwide.</p>
                                </div>
                            </div>
                        </div>

                        <div class="system-components">
                            <h3>üß© Core System Components</h3>
                            <div class="components-detailed">
                                <div class="component-detailed">
                                    <h4>üìä Model Format</h4>
                                    <p>Protocol Buffer-based format that captures:</p>
                                    <ul>
                                        <li>Neural network graph structure</li>
                                        <li>Operator definitions and parameters</li>
                                        <li>Input/output tensor specifications</li>
                                        <li>Metadata and versioning information</li>
                                    </ul>
                                </div>
                                <div class="component-detailed">
                                    <h4>‚öôÔ∏è Runtime Engine</h4>
                                    <p>Execution engine that provides:</p>
                                    <ul>
                                        <li>Cross-platform model execution</li>
                                        <li>Hardware-specific optimizations</li>
                                        <li>Memory management and scheduling</li>
                                        <li>Multi-threading and parallelization</li>
                                    </ul>
                                </div>
                                <div class="component-detailed">
                                    <h4>üîß Tooling Ecosystem</h4>
                                    <p>Developer tools including:</p>
                                    <ul>
                                        <li>Model conversion utilities</li>
                                        <li>Validation and testing frameworks</li>
                                        <li>Profiling and debugging tools</li>
                                        <li>Visualization and analysis utilities</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Architecture Section -->
                <section id="architecture" class="content-section">
                    <h2>ONNX Architecture Deep Dive</h2>
                    
                    <div class="architecture-content">
                        <div class="arch-diagram">
                            <h3>Repository Structure</h3>
                            <div class="directory-tree">
                                <div class="tree-node" data-path="onnx/">
                                    <span class="tree-icon">üìÅ</span>
                                    <span class="tree-label">onnx/</span>
                                    <span class="tree-desc">Core Python library</span>
                                </div>
                                <!-- More tree nodes will be added dynamically -->
                            </div>
                        </div>

                        <div class="module-overview">
                            <h3>Core Modules</h3>
                            <div id="module-grid">
                                <!-- Dynamically populated -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Modules Section -->
                <section id="modules" class="content-section">
                    <h2>Module Deep Dive</h2>
                    
                    <div class="modules-content">
                        <div class="modules-grid">
                            <div class="module-category">
                                <h3>üêç Core API Modules</h3>
                                <div class="module-list">
                                    <div class="module-card">
                                        <h4>onnx.helper</h4>
                                        <p>High-level API for creating ONNX models</p>
                                        <div class="module-functions">
                                            <span class="func-tag">make_model</span>
                                            <span class="func-tag">make_graph</span>
                                            <span class="func-tag">make_node</span>
                                        </div>
                                    </div>
                                    <div class="module-card">
                                        <h4>onnx.checker</h4>
                                        <p>Model validation and verification</p>
                                        <div class="module-functions">
                                            <span class="func-tag">check_model</span>
                                            <span class="func-tag">check_graph</span>
                                            <span class="func-tag">check_node</span>
                                        </div>
                                    </div>
                                    <div class="module-card">
                                        <h4>onnx.numpy_helper</h4>
                                        <p>NumPy integration utilities</p>
                                        <div class="module-functions">
                                            <span class="func-tag">to_array</span>
                                            <span class="func-tag">from_array</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="module-category">
                                <h3>üß† Advanced Modules</h3>
                                <div class="module-list">
                                    <div class="module-card">
                                        <h4>onnx.shape_inference</h4>
                                        <p>Automatic shape inference engine</p>
                                        <div class="module-functions">
                                            <span class="func-tag">infer_shapes</span>
                                            <span class="func-tag">infer_node_outputs</span>
                                        </div>
                                    </div>
                                    <div class="module-card">
                                        <h4>onnx.defs</h4>
                                        <p>Operator definitions and schema registry</p>
                                        <div class="module-functions">
                                            <span class="func-tag">get_schema</span>
                                            <span class="func-tag">get_all_schemas</span>
                                        </div>
                                    </div>
                                    <div class="module-card">
                                        <h4>onnx.version_converter</h4>
                                        <p>Convert between ONNX versions</p>
                                        <div class="module-functions">
                                            <span class="func-tag">convert_version</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="apis" class="content-section">
                    <h2>API Reference</h2>
                    
                    <div class="apis-content">
                        <div class="api-sections">
                            <div class="api-section">
                                <h3>üêç Python API</h3>
                                <div class="api-overview">
                                    <p>The primary interface for working with ONNX models in Python.</p>
                                    <div class="api-categories">
                                        <div class="api-category">
                                            <h4>Model Creation</h4>
                                            <ul>
                                                <li><code>onnx.helper.make_model()</code> - Create ONNX model</li>
                                                <li><code>onnx.helper.make_graph()</code> - Create computation graph</li>
                                                <li><code>onnx.helper.make_node()</code> - Create graph nodes</li>
                                            </ul>
                                        </div>
                                        <div class="api-category">
                                            <h4>Model Validation</h4>
                                            <ul>
                                                <li><code>onnx.checker.check_model()</code> - Validate model structure</li>
                                                <li><code>onnx.checker.check_graph()</code> - Validate graph consistency</li>
                                                <li><code>onnx.shape_inference.infer_shapes()</code> - Infer tensor shapes</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="api-section">
                                <h3>‚ö° C++ API</h3>
                                <div class="api-overview">
                                    <p>High-performance C++ interface for production environments.</p>
                                    <div class="api-categories">
                                        <div class="api-category">
                                            <h4>Core Classes</h4>
                                            <ul>
                                                <li><code>onnx::ModelProto</code> - Model representation</li>
                                                <li><code>onnx::GraphProto</code> - Graph representation</li>
                                                <li><code>onnx::NodeProto</code> - Node representation</li>
                                            </ul>
                                        </div>
                                        <div class="api-category">
                                            <h4>Utilities</h4>
                                            <ul>
                                                <li><code>onnx::checker::check_model()</code> - Model validation</li>
                                                <li><code>onnx::shape_inference::InferShapes()</code> - Shape inference</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="implementation" class="content-section">
                    <h2>Implementation Details</h2>
                    
                    <div class="implementation-content">
                        <div class="impl-sections">
                            <div class="impl-section">
                                <h3>üèóÔ∏è Core Architecture</h3>
                                <div class="arch-details">
                                    <div class="arch-component">
                                        <h4>Protocol Buffers</h4>
                                        <p>ONNX uses Protocol Buffers (protobuf) as its serialization format:</p>
                                        <ul>
                                            <li><strong>onnx.proto</strong> - Core ONNX definitions</li>
                                            <li><strong>onnx-operators.proto</strong> - Operator schemas</li>
                                            <li><strong>onnx-ml.proto</strong> - ML-specific extensions</li>
                                        </ul>
                                    </div>
                                    <div class="arch-component">
                                        <h4>Graph Representation</h4>
                                        <p>ONNX models are represented as directed acyclic graphs (DAGs):</p>
                                        <ul>
                                            <li><strong>Nodes</strong> - Operations/operators</li>
                                            <li><strong>Edges</strong> - Data flow between operations</li>
                                            <li><strong>Initializers</strong> - Model parameters/weights</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="impl-section">
                                <h3>‚öôÔ∏è Type System</h3>
                                <div class="type-system">
                                    <div class="type-category">
                                        <h4>Tensor Types</h4>
                                        <ul>
                                            <li><code>FLOAT</code>, <code>DOUBLE</code> - Floating point</li>
                                            <li><code>INT8</code>, <code>INT16</code>, <code>INT32</code>, <code>INT64</code> - Integers</li>
                                            <li><code>UINT8</code>, <code>UINT16</code>, <code>UINT32</code>, <code>UINT64</code> - Unsigned integers</li>
                                            <li><code>BOOL</code> - Boolean values</li>
                                        </ul>
                                    </div>
                                    <div class="type-category">
                                        <h4>Advanced Types</h4>
                                        <ul>
                                            <li><code>STRING</code> - Text data</li>
                                            <li><code>COMPLEX64</code>, <code>COMPLEX128</code> - Complex numbers</li>
                                            <li><code>BFLOAT16</code> - Brain floating point</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Main JavaScript with cache busting -->
    <script src="script.js?v=20250825-004"></script>
</body>
</html>
